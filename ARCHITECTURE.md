# ğŸ—ï¸ GigFlow Architecture Diagram

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (React + Vite)                      â”‚
â”‚                     http://localhost:5173                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Navbar.jsx  â”‚  â”‚  Auth Pages   â”‚  â”‚   Gig Pages            â”‚ â”‚
â”‚  â”‚              â”‚  â”‚  - Register   â”‚  â”‚ - Home (search)        â”‚ â”‚
â”‚  â”‚  - Logout    â”‚  â”‚  - Login      â”‚  â”‚ - PostGig              â”‚ â”‚
â”‚  â”‚  - Nav links â”‚  â”‚               â”‚  â”‚ - MyGigs               â”‚ â”‚
â”‚  â”‚  - User info â”‚  â”‚               â”‚  â”‚ - GigDetails           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Bid & Hiring Pages                               â”‚ â”‚
â”‚  â”‚  - MyBids.jsx (Freelancer view)                              â”‚ â”‚
â”‚  â”‚  - GigBids.jsx (Client view + HIRE button)                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              State Management & APIs                          â”‚ â”‚
â”‚  â”‚  - Redux store (auth state)                                  â”‚ â”‚
â”‚  â”‚  - api.js (endpoint definitions)                             â”‚ â”‚
â”‚  â”‚  - authSlice.js (user management)                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                      HTTP/CORS Requests
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Backend (Node.js + Express)                        â”‚
â”‚                   http://localhost:5000/api                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Auth Routes   â”‚  â”‚   Gig Routes   â”‚  â”‚   Bid Routes       â”‚   â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                    â”‚   â”‚
â”‚  â”‚ POST /register â”‚  â”‚ GET /          â”‚  â”‚ POST /             â”‚   â”‚
â”‚  â”‚ POST /login    â”‚  â”‚ GET /:gigId    â”‚  â”‚ GET /:gigId        â”‚   â”‚
â”‚  â”‚ POST /logout   â”‚  â”‚ POST /         â”‚  â”‚ GET /user/my-bids  â”‚   â”‚
â”‚  â”‚                â”‚  â”‚ PATCH /:gigId  â”‚  â”‚ PATCH /:bidId/hire â”‚   â”‚
â”‚  â”‚                â”‚  â”‚ DELETE /:gigId â”‚  â”‚ DELETE /:bidId     â”‚   â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                  â”‚                      â”‚              â”‚
â”‚           â–¼                  â–¼                      â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Auth Controllerâ”‚  â”‚  Gig Controllerâ”‚  â”‚  Bid Controller    â”‚   â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                    â”‚   â”‚
â”‚  â”‚ - register()   â”‚  â”‚ - getAllGigs() â”‚  â”‚ - submitBid()      â”‚   â”‚
â”‚  â”‚ - login()      â”‚  â”‚ - getUserGigs()â”‚  â”‚ - getBidsForGig()  â”‚   â”‚
â”‚  â”‚ - logout()     â”‚  â”‚ - getGigById() â”‚  â”‚ - getUserBids()    â”‚   â”‚
â”‚  â”‚                â”‚  â”‚ - createGig()  â”‚  â”‚ - hireBid() â­     â”‚   â”‚
â”‚  â”‚ âœ“ Validation   â”‚  â”‚ - updateGig()  â”‚  â”‚ - withdrawBid()    â”‚   â”‚
â”‚  â”‚ âœ“ JWT tokens   â”‚  â”‚ - deleteGig()  â”‚  â”‚                    â”‚   â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚ âœ“ Atomic updates   â”‚   â”‚
â”‚  â”‚                â”‚  â”‚ âœ“ Full-text    â”‚  â”‚ âœ“ Cascading rejectsâ”‚   â”‚
â”‚  â”‚                â”‚  â”‚   search       â”‚  â”‚                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                  â”‚                      â”‚              â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                              â”‚                                      â”‚
â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                       â”‚  Middleware  â”‚                              â”‚
â”‚                       â”‚ - authMiddle  â”‚                              â”‚
â”‚                       â”‚ - CORS        â”‚                              â”‚
â”‚                       â”‚ - json parser â”‚                              â”‚
â”‚                       â”‚ - validation  â”‚                              â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                              â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                        Database Layer
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               MongoDB Database (MongoDB Atlas)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Users         â”‚  â”‚   Gigs           â”‚  â”‚   Bids           â”‚  â”‚
â”‚  â”‚  (Collection)   â”‚  â”‚  (Collection)    â”‚  â”‚  (Collection)    â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚ _id             â”‚  â”‚ _id              â”‚  â”‚ _id              â”‚  â”‚
â”‚  â”‚ name            â”‚  â”‚ title            â”‚  â”‚ gigId â†’ Gig      â”‚  â”‚
â”‚  â”‚ email (unique)  â”‚  â”‚ description      â”‚  â”‚ freelancerId â†’ U â”‚  â”‚
â”‚  â”‚ password        â”‚  â”‚ budget           â”‚  â”‚ message          â”‚  â”‚
â”‚  â”‚ createdAt       â”‚  â”‚ ownerId â†’ User   â”‚  â”‚ bidPrice         â”‚  â”‚
â”‚  â”‚ updatedAt       â”‚  â”‚ status (open|ass)â”‚  â”‚ status (pend|hir â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚ selectedBidId    â”‚  â”‚ createdAt        â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚ bidCount         â”‚  â”‚ updatedAt        â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚ createdAt        â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚ updatedAt        â”‚  â”‚ CONSTRAINTS:     â”‚  â”‚
â”‚  â”‚ INDEXES:         â”‚  â”‚                  â”‚  â”‚ - Unique pair    â”‚  â”‚
â”‚  â”‚ - email (unique) â”‚  â”‚ INDEXES:         â”‚  â”‚   (gigId,        â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚ - text (title    â”‚  â”‚    freelancer)   â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚   description)   â”‚  â”‚ - Foreign keys   â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚ - ownerId        â”‚  â”‚ - Status enum    â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚ - status         â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚ INDEXES:         â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚ CONSTRAINTS:     â”‚  â”‚ - gigId          â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚ - Foreign key    â”‚  â”‚ - freelancerId   â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚   to User        â”‚  â”‚ - status         â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                     â”‚
â”‚   ğŸ”‘ Relationships:                                                 â”‚
â”‚   - Gig.ownerId â†’ User._id  (who posted the gig)                   â”‚
â”‚   - Bid.gigId â†’ Gig._id     (which gig is being bid on)            â”‚
â”‚   - Bid.freelancerId â†’ User._id  (who submitted the bid)           â”‚
â”‚   - Gig.selectedBidId â†’ Bid._id  (which freelancer was hired)      â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User enters   â”‚
â”‚ email/password  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend sends â”‚
â”‚  axios POST     â”‚  â”€â”€â”€HTTPSâ”€â”€â†’  /api/auth/login
â”‚  /login         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                      â”‚
         â”‚         Backend Validates            â”‚
         â”‚         1. Check user exists         â”‚
         â”‚         2. Compare password (bcrypt) â”‚
         â”‚         3. Generate JWT token        â”‚
         â”‚         4. Set httpOnly cookie       â”‚
         â”‚         5. Send user data            â”‚
         â”‚                                      â”‚
         â”‚         Response:                    â”‚
         â”‚         - user object                â”‚
         â”‚         - Cookie header (JWT)        â”‚
         â”‚                                      â”‚
         â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend stores â”‚
â”‚ user in Redux   â”‚
â”‚ localStorage    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Protected Routes Accessible!        â”‚
â”‚ (Navbar shows: user name, logout)   â”‚
â”‚ (Can access: /post-gig, /my-gigs)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

---

Subsequent Requests with Cookie:

Frontend                          Backend
   â”‚                               â”‚
   â”‚  GET /api/gigs (protected)   â”‚
   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚
   â”‚  Cookie: token=xyz...         â”‚
   â”‚                               â”‚
   â”‚         â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
   â”‚         authMiddleware:       â”‚
   â”‚         - Extract JWT         â”‚
   â”‚         - Verify signature    â”‚
   â”‚         - Check expiry        â”‚
   â”‚         - Attach user to req  â”‚
   â”‚                               â”‚
   â”‚         Authorized! âœ“         â”‚
   â”‚                               â”‚
   â”‚  Response: gigs data          â”‚
   â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
```

---

## The Crucial Hiring Logic Flow

```
Client (Job Poster)                Backend                    Database
         â”‚                            â”‚                            â”‚
         â”‚  Click "Hire This          â”‚                            â”‚
         â”‚  Freelancer" button        â”‚                            â”‚
         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º      â”‚                            â”‚
         â”‚  PATCH /api/bids/123/hire  â”‚                            â”‚
         â”‚                            â”‚                            â”‚
         â”‚                     authMiddleware                      â”‚
         â”‚                     Verify JWT âœ“                        â”‚
         â”‚                            â”‚                            â”‚
         â”‚                     hireBid() function:                 â”‚
         â”‚                     1. Find bid by ID                   â”‚
         â”‚                            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚
         â”‚                            â”‚  Query Bid (ID=123)        â”‚
         â”‚                     â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
         â”‚                            â”‚  Returns: bid object       â”‚
         â”‚                            â”‚                            â”‚
         â”‚                     2. Find gig by gigId                â”‚
         â”‚                            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚
         â”‚                            â”‚  Query Gig                 â”‚
         â”‚                     â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
         â”‚                            â”‚  Returns: gig object       â”‚
         â”‚                            â”‚                            â”‚
         â”‚                     3. Verify client owns gig           â”‚
         â”‚                            â”‚ (gig.ownerId === user.id) â”‚
         â”‚                            â”‚ âœ“ PASS                    â”‚
         â”‚                            â”‚                            â”‚
         â”‚                     4. Check gig.status === "open"      â”‚
         â”‚                            â”‚ âœ“ PASS                    â”‚
         â”‚                            â”‚                            â”‚
         â”‚                     5. Update bid status â†’ "hired"      â”‚
         â”‚                            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚
         â”‚                            â”‚  Update Bid #123           â”‚
         â”‚                            â”‚  status = "hired"          â”‚
         â”‚                     â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
         â”‚                            â”‚  âœ“ Updated                 â”‚
         â”‚                            â”‚                            â”‚
         â”‚                     6. Update gig status â†’ "assigned"   â”‚
         â”‚                            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚
         â”‚                            â”‚  Update Gig                â”‚
         â”‚                            â”‚  status = "assigned"       â”‚
         â”‚                            â”‚  selectedBidId = 123       â”‚
         â”‚                     â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
         â”‚                            â”‚  âœ“ Updated                 â”‚
         â”‚                            â”‚                            â”‚
         â”‚                     7. REJECT all other pending bids    â”‚
         â”‚                            â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚
         â”‚                            â”‚  Update ALL Bids for       â”‚
         â”‚                            â”‚  this gig WHERE            â”‚
         â”‚                            â”‚  status = "pending"        â”‚
         â”‚                            â”‚  AND _id != 123            â”‚
         â”‚                            â”‚  SET status = "rejected"   â”‚
         â”‚                     â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
         â”‚                            â”‚  âœ“ All others rejected     â”‚
         â”‚                            â”‚                            â”‚
         â”‚  Success Response          â”‚                            â”‚
         â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                            â”‚
         â”‚  {                          â”‚                            â”‚
         â”‚    message: "Hired!",       â”‚                            â”‚
         â”‚    bid: { ... }            â”‚                            â”‚
         â”‚  }                          â”‚                            â”‚
         â”‚                            â”‚                            â”‚
         â–¼                            â–¼                            â–¼

âœ… Result:
- Gig status: "open" â†’ "assigned"
- Selected bid status: "pending" â†’ "hired"
- Other bids status: "pending" â†’ "rejected"
- All changes atomic (no race conditions)
```

---

## Data Flow: Posting a Gig

```
User clicks "Post a Gig"
          â”‚
          â–¼
PostGig.jsx (form)
  - title
  - description
  - budget
          â”‚
          â–¼
Form validation
  - Title 5-100 chars
  - Description 20+ chars
  - Budget > 0
          â”‚
          â–¼
axios.post('/api/gigs', {
  title, description, budget
})
          â”‚
          â–¼
Server receives POST /api/gigs
          â”‚
          â–¼
authMiddleware
  - Verify JWT token âœ“
  - Attach user to request âœ“
          â”‚
          â–¼
gigController.createGig()
  - Validate inputs
  - Check limits
  - Create Gig in DB
  - Set ownerId to user.id
  - Set status = "open"
          â”‚
          â–¼
Save to MongoDB
  Gigs collection: insert({
    title,
    description,
    budget,
    ownerId: ObjectId(user),
    status: "open",
    bidCount: 0,
    createdAt,
    updatedAt
  })
          â”‚
          â–¼
Return gig object to frontend
          â”‚
          â–¼
Frontend Redux updates
  - Show success message
  - Navigate to /my-gigs
  - Display new gig in list
          â”‚
          â–¼
âœ… Gig is LIVE and searchable!
```

---

## Data Flow: Submitting a Bid

```
Freelancer clicks "Submit a Bid"
          â”‚
          â–¼
BidForm in GigDetails.jsx
  - message (why I'm perfect)
  - bidPrice
          â”‚
          â–¼
Form validation
  - Message 10+ chars
  - Price > 0
          â”‚
          â–¼
axios.post('/api/bids', {
  gigId, message, bidPrice
})
          â”‚
          â–¼
Server POST /api/bids
          â”‚
          â–¼
authMiddleware âœ“
          â”‚
          â–¼
bidController.submitBid()
  1. Validate input
  2. Check gig exists
  3. Check not own gig
  4. Check gig.status = "open"
  5. Check no duplicate bid
          â”‚
          â–¼
Save to MongoDB
  Bids collection: insert({
    gigId: ObjectId(gig),
    freelancerId: ObjectId(user),
    message,
    bidPrice,
    status: "pending",
    createdAt,
    updatedAt
  })
          â”‚
          â–¼
Update Gig.bidCount++
          â”‚
          â–¼
Return success
          â”‚
          â–¼
Frontend shows:
  - "Bid submitted!"
  - Navigates to /my-bids
          â”‚
          â–¼
âœ… Client can see bid in "View Bids"!
```

---

## Technology Stack Visualization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend Layer (Client Browser)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ React 18.2.0                                        â”‚
â”‚ â”œâ”€â”€ Vite 5.0 (bundler)                             â”‚
â”‚ â”œâ”€â”€ React Router 6 (navigation)                    â”‚
â”‚ â”œâ”€â”€ Redux Toolkit (state)                          â”‚
â”‚ â””â”€â”€ Tailwind CSS (styling)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP/CORS
                     â”‚ Axios
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Layer (Node.js/Express)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Express.js 4.x                                      â”‚
â”‚ â”œâ”€â”€ Routes (18 endpoints)                           â”‚
â”‚ â”œâ”€â”€ Controllers (business logic)                    â”‚
â”‚ â”œâ”€â”€ Middleware (auth, validation)                  â”‚
â”‚ â”œâ”€â”€ CORS                                            â”‚
â”‚ â””â”€â”€ Cookie Parser                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ Mongoose ODM
                     â”‚ TCP/IP
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database Layer (MongoDB)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MongoDB Atlas (Cloud)                               â”‚
â”‚ â”œâ”€â”€ Users Collection                               â”‚
â”‚ â”œâ”€â”€ Gigs Collection (with text index)              â”‚
â”‚ â”œâ”€â”€ Bids Collection (with unique constraint)       â”‚
â”‚ â””â”€â”€ Indexes for performance                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Security:
â”œâ”€â”€ JWT (JSON Web Tokens)
â”œâ”€â”€ Bcrypt (password hashing)
â”œâ”€â”€ HttpOnly Cookies (XSS protection)
â”œâ”€â”€ CORS (cross-origin control)
â””â”€â”€ Input Validation (injection protection)
```

---

This architecture is **scalable, secure, and production-ready**! ğŸš€
